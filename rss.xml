<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   <title>ThaddeusJiang</title>
   <link>https://thaddeusjiang.com</link>
   <description>Freelance Programmer</description>
   <item>
      <title>2024-10-23 My Second Photos</title>
      <link>https://thaddeusjiang.com/2024-10-23-my-second-photos</link>
			<description><![CDATA[
<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2"><nav aria-label="main navigation" class="navbar" role="navigation"><p><div>
        <h1 class="brand">
          <a class="title" href="./">ThaddeusJiang</a>
        </h1>
        <p class="subtitle is-size-6 is-italic">Freelance Programmer</p>
      </div>
      
      <div class="navbar-end mt-2">
        <a class="tc-tiddlylink tc-tiddlylink-shadow tc-tiddlylink-resolves" href="./#blog">Blog</a>
      </div></p></nav></div>
</div>


<div class="container">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <h1 class="title">2024-10-23 My Second Photos</h1>
          <hr>

          <div class="content">
            <p>终于终于，严重拖延的我终于启用了“Second Photos”，终于可以愉快地翻看手机相册了，终于可以找到保存的美女写真了，生活再次变得美好了。</p><h2 class="">What is Second Photos</h2><p>命名参考了 Second Brain，其实就是另外一个管理照片的地方。</p><h2 class="">Why Second Photos</h2><p>一直以来我都有如下困扰：</p><p>1. 我的相册里有巨量的网络图片和视频</p><p>我喜欢随手保存一些图片和视频，算是轻微收藏癖吧，哈哈哈。每次当我想打开手机相册回忆一下自己的生活的时候，过度出现的与我不相关的内容总是让我心情烦躁，它们打断了我回忆的思绪，也减少了我对自己生活的了解和掌控。</p><p>但是偶尔翻看自己保存搞笑视频和美女写真也会让我会心一笑，它们是我生活的调剂品，我也不想失去这份快乐。</p><p>2. 我的相册里有巨量的截图</p><p><img class=" tc-image-loading" src="https://i.gyazo.com/d83396f6613782d52373c6cd5d9474c2.jpg" width="50%"></p><p>相对于文字笔记，我更喜欢使用图片来记忆，我感觉图片的视觉记忆更清晰、更长久，所以我总是保存截图而不是保存文本。虽然我很喜欢这个习惯，喜欢自己的“视觉笔记”，但是这也到只我的相册中有巨量的截图。</p><p>并且手机自带的相册在图片检索方面做的很差，基本上没有办法当成“视觉笔记”来使用，我希望有一个 app 让我可以复习和查找自己的视觉笔记。</p><p>简单总结：我想把相册中与我相关的内容和与我无关的内容分开；我不想丢弃于我不相关的部分；我想要编辑和搜索我的诗句笔记。</p><h2 class="">我如何配置 Second Photos</h2><p>1. 我在 Telegram 上创建了多个 group 保存不同的照片，搞笑内容、美女帅哥、学习笔记、House Design 等等。</p><p>2. 我使用 Typesense 和 Vision AI 处理和分析照片，我可以用自然语言搜索它们、也可以发现相似的图片。</p><p>3. 我制作了 bot 帮助我保存、查找、整理照片，不需要安装 app，也不需要登录网页。</p><h2 class="">前后对比</h2><p>1. 现在我的手机相册里几乎只有生活的照片了，旅游的回忆、家庭的回忆、和朋友们一起的回忆等等，我又可以心情愉悦地翻看手机相册了。</p><p>2. 我保存的网络图片和截图笔记也没有丢失，不仅没有丢失，我现在还可以搜索它们，甚至可以在截图的基础上继续做笔记。</p><p>额外收获</p><p>1. 无限的存储容量，感谢 telegram server 的慷慨，爱死它了。</p><p>2. 图片搜索，这是截止到今天（2024-10-23）iPhone Photos 和 Google Photos 都没有的功能。</p><h2 class="">最后放几个简单的效果吧。</h2><p>demo video:</p><p>messages:</p><pre><code>/search cat
/search dog
/search girl
/similar photo
/similar photo</code></pre><p><video controls="controls" muted="muted" src="https://github.com/user-attachments/assets/b0dedcc0-3305-42b2-8101-6b0b5d32f17a" style="width:100%;max-height:640px;min-height:200px;"></video></p><h2 class="">Open Source</h2><p><a class="tc-tiddlylink-external" href="https://github.com/ThaddeusJiang/save_it" rel="noopener noreferrer" target="_blank">https://github.com/ThaddeusJiang/save_it</a></p><p>以上。
</p>
          </div>          
      </div>
  </div>
</div>     


<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Wed, 23 October 2024 6:50:6 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2024-10-23-my-second-photos</guid>      
   </item>

   <item>
      <title>2024-09-30 I Analyzed My Browser History</title>
      <link>https://thaddeusjiang.com/2024-09-30-i-analyzed-my-browser-history</link>
			<description><![CDATA[
<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2"><nav aria-label="main navigation" class="navbar" role="navigation"><p><div>
        <h1 class="brand">
          <a class="title" href="./">ThaddeusJiang</a>
        </h1>
        <p class="subtitle is-size-6 is-italic">Freelance Programmer</p>
      </div>
      
      <div class="navbar-end mt-2">
        <a class="tc-tiddlylink tc-tiddlylink-shadow tc-tiddlylink-resolves" href="./#blog">Blog</a>
      </div></p></nav></div>
</div>


<div class="container">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <h1 class="title">2024-09-30 I Analyzed My Browser History</h1>
          <hr>

          <div class="content">
            <p>心血来潮，我尝试分析了我的浏览器记录，发现了一点点“不得了的”事情。</p><blockquote><div>TL;DR</div></blockquote><ul><li>我有 411k 访问记录，只有 27k 主动访问，占比仅 5%</li><li>我竟然访问过 63 个 Google 提供的服务</li><li>Open Source in <a class="tc-tiddlylink-external" href="https://github.com/ThaddeusJiang/history_analytics" rel="noopener noreferrer" target="_blank">https://github.com/ThaddeusJiang/history_analytics</a></li></ul><p>正文：</p><p>首先，分析的数据来自我的 Arc Browser，我从 2023 年开始使用 Arc Browser 作为主力浏览器，之前的数据在 Brave Browser 中，我这次没有分析旧的浏览器记录。</p><p>我分析了 411,345 条访问记录，其中包含 100,585 URLs 和 27,687 次主动访问；虽然我感觉自己已经很久没有访问 Google 搜索了，但是从数据上看 Google 依然是我使用最多的搜索引擎，占全部访问量的 7.23%。</p><blockquote><div>哈哈哈 和我的记忆有一点点出入。</div></blockquote><p><img class=" tc-image-loading" src="https://i.gyazo.com/4c20064b7de83e1b16a6d19f9b5ab9ef.png"></p><p>在我全部访问记录里，访问量最大的服务/域名依次是</p><ul><li>github.com</li><li>google.com</li><li>localhost</li><li>twitter.com</li><li>...</li></ul><h2 class="">GitHub</h2><p>从数据上看，一共访问 GitHub 92,340 次，查看过 2,271 Repositories。最近工作的 repository 访问量一骑绝尘，接下来就是我的个人项目了。</p><p><img class=" tc-image-loading" src="https://i.gyazo.com/9f9d7ec1b9ad3a45db7126d22874b4a7.png"></p><p>排除 Personal and Work Projects，我访问最多的 open source repositories 分别是</p><ol><li>epic-stack</li><li>ex_doc</li><li>conform</li><li>blues-stack</li><li>zed</li><li>react-google-maps</li><li>...</li></ol><p>其中 ex_doc, surface, ex_gram 是 elixir 生态。很高兴自己越来越多的使用 elixir 了。</p><h2 class="">Google</h2><p>我一共访问 Google 相关服务 78,999 次，让我感到震惊的是我竟然使用了 Google 63 种网络服务，🤯</p><blockquote><div>我甚至不知道 Google 有这么多服务，😂</div></blockquote><p><img class=" tc-image-loading" src="https://i.gyazo.com/692754ba6797359b330a4562cf507f99.png"></p><h2 class="">Localhost</h2><p>localhost 没什么可说的，作为程序员，访问多很合理。</p><p>3000 是 JS web frameworks 常用的端口，8000 系是 server 常用端口。</p><p><img class=" tc-image-loading" src="https://i.gyazo.com/8414f853e694d80aeeab574bc0c94b98.png"></p><h2 class="">Twitter</h2><p>一共访问 Twitter 21,953 次，其中主动访问 2,304 次。</p><p>我分析了我常关注的推油，我看过 1,327 位推油的推文，
最常关注的依次是 yihong0618, mieisgood, disksing, nishuang 等。</p><blockquote><div>其实 Twitter 数据很有意思，有时间的时候，我还想知道自己访问 twitter 的月度次数，星期分布，时间分布等等。</div></blockquote><p><img class=" tc-image-loading" src="https://i.gyazo.com/6d520eb16f16b215ef94273f84a7a0a7.png"></p><h2 class="">Others</h2><p>在分析浏览记录时，我意识到对于大多数网友或者程序员来说，可能大家访问 top10 的服务都大同小异。或许去除最最常见的服务，top 11~20 才能反映出大家的不同。</p><p>我的 top 11 ~ 20</p><ul><li>notion.so</li><li>vercel.com</li><li>www.aier.com</li><li>datadoghq.com</li><li>accounts.google.com </li><li>atlassian.net</li><li>fly.io</li><li>youtube.com</li><li>remix.run</li><li>openai.com</li></ul><h2 class="">最后</h2><p>遇到的几个小问题：</p><p>1. Chromium 系列浏览器 History 使用 SQLite 存储浏览记录，使用自增主键，导致合并不同浏览器的记录不方便，容易出现主键关联错误。</p><p>所以，我没有暂时没有合并我的多个浏览器的历史记录。</p><p>2. SQLite 默认不支持 RegExp，处理 URL 麻烦。</p><p>所以，我使用 pgloader 将 SQLite 导入到 PostgreSQL 才进行分析。</p><p>3. 通过 Metabase UI 编写 Questions 生成的查询代码难以阅读。</p><p>所以，我是编写 SQL 来分析。SQL 对 developer 友好；UI 对一般用户友好。</p><p>我使用的工具：</p><ul><li>sqlite3</li><li>psql</li><li><a class="tc-tiddlylink-external" href="https://pgloader.io/" rel="noopener noreferrer" target="_blank">https://pgloader.io/</a></li><li><a class="tc-tiddlylink-external" href="https://www.metabase.com/" rel="noopener noreferrer" target="_blank">https://www.metabase.com/</a></li></ul>
          </div>          
      </div>
  </div>
</div>     


<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Mon, 30 September 2024 5:49:5 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2024-09-30-i-analyzed-my-browser-history</guid>      
   </item>

   <item>
      <title>2024-09-25 Just use PostgreSQL</title>
      <link>https://thaddeusjiang.com/2024-09-25-just-use-postgresql</link>
			<description><![CDATA[
<div class="container mt-4">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2"><nav aria-label="main navigation" class="navbar" role="navigation"><p><div>
        <h1 class="brand">
          <a class="title" href="./">ThaddeusJiang</a>
        </h1>
        <p class="subtitle is-size-6 is-italic">Freelance Programmer</p>
      </div>
      
      <div class="navbar-end mt-2">
        <a class="tc-tiddlylink tc-tiddlylink-shadow tc-tiddlylink-resolves" href="./#blog">Blog</a>
      </div></p></nav></div>
</div>


<div class="container">
  <div class="column is-6-desktop is-offset-3-desktop is-8 is-offset-2">
      <div>
          <h1 class="title">2024-09-25 Just use PostgreSQL</h1>
          <hr>

          <div class="content">
            <p>一个小例子解释为什么我默认选择 PostgreSQL 而不是 SQLite。</p><blockquote><div>为什么要解释？</div><div>答：local-first 最近又流行起来了，JS 社区的 Kent C. Dodds 和 Rails 社区的 DHH 都推荐使用 SQLite。但是日常工作中，我感觉 SQLite 经常背刺我。</div></blockquote><h2 class="">需求：从 url 中提取 port，例如：<a class="tc-tiddlylink-external" href="http://localhost:3000/setup" rel="noopener noreferrer" target="_blank">http://localhost:3000/setup</a> -&gt; 3000</h2><pre class="hljs"><code class="sql hljs"># PostgreSQL
<span class="hljs-keyword">SELECT</span>
    <span class="hljs-built_in">substring</span>(url <span class="hljs-keyword">FROM</span> <span class="hljs-string">&#x27;:(\d+)&#x27;</span>) <span class="hljs-keyword">AS</span> port
<span class="hljs-keyword">FROM</span>
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-string">&#x27;http://localhost:3000/setup&#x27;</span> <span class="hljs-keyword">AS</span> url) <span class="hljs-keyword">AS</span> t;
</code></pre><pre class="hljs"><code class="sql hljs"># SQLite
<span class="hljs-keyword">SELECT</span>
    substr(url, instr(url, <span class="hljs-string">&#x27;:&#x27;</span>) <span class="hljs-operator">+</span> <span class="hljs-number">1</span>, instr(url, <span class="hljs-string">&#x27;/&#x27;</span>, instr(url, <span class="hljs-string">&#x27;:&#x27;</span>)) <span class="hljs-operator">-</span> instr(url, <span class="hljs-string">&#x27;:&#x27;</span>) <span class="hljs-operator">-</span> <span class="hljs-number">1</span>) <span class="hljs-keyword">AS</span> port
<span class="hljs-keyword">FROM</span>
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-string">&#x27;http://localhost:3000/setup&#x27;</span> <span class="hljs-keyword">AS</span> url) <span class="hljs-keyword">AS</span> t;</code></pre><p>对比之下，Postgres 的 substring 比 SQLite 的 substr 简单太多了，开箱即用的感觉真好。</p><h2 class="">另外</h2><p>我今天发现 Metabase 的 regexextract 表达式不支持 SQLite。🥲</p><p>Doc: <a class="tc-tiddlylink-external" href="https://www.metabase.com/docs/latest/questions/query-builder/expressions-list#regexextract" rel="noopener noreferrer" target="_blank">https://www.metabase.com/docs/latest/questions/query-builder/expressions-list#regexextract</a></p><h2 class="">人生苦短，我用 Postgres。</h2><p>refs:</p><ul><li><a class="tc-tiddlylink-external" href="https://www.epicweb.dev/why-you-should-probably-be-using-sqlite" rel="noopener noreferrer" target="_blank">https://www.epicweb.dev/why-you-should-probably-be-using-sqlite</a></li><li><a class="tc-tiddlylink-external" href="https://x.com/search?f=tweets&amp;q=sqlite+from:dhh" rel="noopener noreferrer" target="_blank">https://x.com/search?f=tweets&amp;q=sqlite+from:dhh</a></li><li><a class="tc-tiddlylink-external" href="https://x.com/search?q=Just%20use%20PostgreSQL" rel="noopener noreferrer" target="_blank">https://x.com/search?q=Just%20use%20PostgreSQL</a></li></ul>
          </div>          
      </div>
  </div>
</div>     


<div class="copyright">
<strong>
<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">
版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）
</a>
</strong>
</div>

<style>
.copyright {
  padding: 0.5rem 1rem;
  text-align: center;
}

.copyright:hover {
  opacity: 0.9;
}
</style>


]]></description>
      <pubDate>Wed, 25 September 2024 9:36:29 -00:00</pubDate>
			<guid>https://thaddeusjiang.com/2024-09-25-just-use-postgresql</guid>      
   </item>

</channel>
</rss>
